<html>
<head>
  <title>A Leaflet map!</title>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
  <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <style>
    #map{ height: 100% }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
  var nyc = [40.7128,-74.0059];
  var la = [34.0299, -118.22388];
  var sf = [37.74466, -122.45636];
  var ch = [41.87672, -87.64618];
  var tamp = [27.96287, -82.51556];
  var dallas = [32.78266, -96.79504];
  var phoenix = [33.46582, -112.04407];
  var seattle = [47.60292, -122.32246];
  var denver = [39.74521, -104.97437];
  var dc = [38.92737, -76.99219];
  var atlanta = [33.78143, -84.41895];

  var cities = [nyc, la, sf, ch, tamp, dallas, phoenix, seattle, denver,atlanta, dc];

  var graphs = [
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/4.embed?share_key=ltX55jMWTPRR6TRLvKZHbz"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/10.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/7.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/15.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/18.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/21.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/26.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/29.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/32.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/37.embed"></iframe>',
    '<iframe width="800" height="500" frameborder="0" scrolling="no" src="https://plot.ly/~calvinytong/40.embed"></iframe>'
    ];

  // Load the tile images from OpenStreetMap
  var mytiles = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
  });

  var markers = new L.FeatureGroup();

  // initialize the map
  var map = L.map('map');

  for (var i = 0; i < cities.length; i++) {
    var marker = L.marker(cities[i]);
    // var customPopup = '<img src="sf.png" alt="sf" style="width:987px;height:503px;">';
    var customPopup = graphs[i];

    // specify popup options
    var customOptions = {
        'maxWidth': '1000'
      };
    marker.bindPopup(customPopup,customOptions);
    markers.addLayer(marker);
    //Do something
  }
  map.addLayer(markers);
  map.addLayer(mytiles).setView(new L.LatLng(40.178873 ,  -100.195312), 4);

  // 
  // map.addControl(new MyControl());
  // function onMapClick(e) {
  //   alert("You clicked the map at " + e.latlng);
  // }
  //
  //
  // map.on('click', onMapClick);


  </script>
</body>
</html>
